{
  "version": 3,
  "file": "interim-mkts-table-patterns.js",
  "sourceRoot": "../..",
  "sources": [
    "src/tests/interim-mkts-table-patterns.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n\n\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'MKTS/TABLE/INTERIM/PATTERN/TESTS'\nlog                       = CND.get_logger 'plain',     badge\ninfo                      = CND.get_logger 'info',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\nalert                     = CND.get_logger 'alert',     badge\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\necho                      = CND.echo.bind CND\n#...........................................................................................................\ntest                      = require 'guy-test'\neq                        = CND.equals\njr                        = JSON.stringify\n#...........................................................................................................\nMKTS_TABLE                = require '../mkts-table'\n\n#-----------------------------------------------------------------------------------------------------------\n@_prune = ->\n  for name, value of @\n    continue if name.startsWith '_'\n    delete @[ name ] unless name in include\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@_main = ->\n  test @, 'timeout': 30000\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"MKTS_TABLE.fieldcells.source_pattern\" ] = ( T, done ) ->\n  probes_and_matchers = [\n    [\"A1..A4:\\\"japanese-text\\\"\",{\"selector\":\"A1..A4\",\"aliases\":\"\\\"japanese-text\\\"\"}]\n    [\"  A1..A4  :  \\\"japanese-text\\\"  \",{\"selector\":\"A1..A4\",\"aliases\":\"\\\"japanese-text\\\"  \"}]\n    [\"A1..A4\",{\"selector\":\"A1..A4\"}]\n    [\"A1..A4:\\\"japanese-text\\\",\\\"headings\\\",\\\"foo\\\"\",{\"selector\":\"A1..A4\",\"aliases\":\"\\\"japanese-text\\\",\\\"headings\\\",\\\"foo\\\"\"}]\n    ]\n  #.........................................................................................................\n  # debug '93033', rpr MKTS_TABLE.fieldcells.source_pattern\n  for [ probe, matcher, ] in probes_and_matchers\n    try\n      result = probe.match MKTS_TABLE.fieldcells.source_pattern\n      result = result.groups\n      ( delete result[ key ] if result[ key ] in [ '', undefined, ] ) for key of result\n    catch error\n      if false # ( matcher is null ) and ( error.message.match /unable to parse .* as nonnegative quantity/ )?\n        # urge '36633', ( jr [ probe, matcher, ] )\n        T.ok true\n      else\n        T.fail \"unexpected error for probe #{rpr probe}: #{rpr error.message}\"\n      continue\n    urge '36633', ( jr [ probe, result, ] )\n    T.eq result, matcher\n  #.........................................................................................................\n  done()\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"MKTS_TABLE._parse_aliases\" ] = ( T, done ) ->\n  probes_and_matchers = [\n    [\"\\\"japanese-text\\\"\",null]\n    [\"@japanese-text,@headings,@foo\",[\"@japanese-text\",\"@headings\",\"@foo\"]]\n    [\" @japanese-text,  @headings , @foo  \",[\"@japanese-text\",\"@headings\",\"@foo\"]]\n    [\"@some-name\",[\"@some-name\"]]\n    [\"@some-name,\",[\"@some-name\"]]\n    [\"@some-name,,@other-name\",null]\n    [\"@some-name,,\",null]\n    [\"@some-name,@other-name,\",[\"@some-name\",\"@other-name\"]]\n    [\"\",[]]\n    [null,[]]\n    ]\n  #.........................................................................................................\n  # debug '93033', rpr MKTS_TABLE.fieldcells.source_pattern\n  for [ probe, matcher, ] in probes_and_matchers\n    try\n      result = MKTS_TABLE._parse_aliases null, probe\n    catch error\n      if ( matcher is null ) and ( error.message.match /aliases must be prefixed with '@'/ )?\n        urge '36633', ( jr [ probe, matcher, ] )\n        T.ok true\n      else\n        T.fail \"unexpected error for probe #{rpr probe}: #{rpr error.message}\"\n      continue\n    urge '36633', ( jr [ probe, result, ] )\n    T.eq result, matcher\n  #.........................................................................................................\n  done()\n\n#-----------------------------------------------------------------------------------------------------------\n@_get_sample_table_1 = ->\n  R = MKTS_TABLE._new_description null\n  MKTS_TABLE.name         R, 'moderately-freeform-table'\n  MKTS_TABLE.debug        R, 'false'\n  MKTS_TABLE.grid         R, 'D4'\n  MKTS_TABLE.unitwidth    R, '1mm'\n  MKTS_TABLE.unitheight   R, '1mm'\n  MKTS_TABLE.columnwidth  R, '20'\n  MKTS_TABLE.rowheight    R, '10'\n  MKTS_TABLE.fieldcells   R, 'A1..A4:@japanese-text'\n  MKTS_TABLE.fieldcells   R, 'A1..A4:@japanese-text'\n  MKTS_TABLE.fieldcells   R, 'B1..D1'\n  MKTS_TABLE.fieldcells   R, 'B2..D2'\n  MKTS_TABLE.fieldcells   R, 'B3..B4'\n  MKTS_TABLE.fieldcells   R, 'C3..D4:@overlap-topright'\n  MKTS_TABLE.fieldcells   R, 'C3..D4:@overlap-bottomright'\n  MKTS_TABLE.fieldcells   R, 'C3..D4:@overlap-topleft'\n  MKTS_TABLE.fieldcells   R, 'C3..D4:@overlap-bottomleft'\n  return R\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"MKTS_TABLE._resolve_aliases\" ] = ( T, done ) ->\n  probes_and_matchers = [\n    [\"\\\"japanese-text\\\"\",null]\n    [\"@japanese-text,@headings,@foo\",[\"@japanese-text\",\"@headings\",\"@foo\"]]\n    [\" @japanese-text,  @headings , @foo  \",[\"@japanese-text\",\"@headings\",\"@foo\"]]\n    [\"@some-name\",[\"@some-name\"]]\n    [\"@some-name,\",[\"@some-name\"]]\n    [\"@some-name,,@other-name\",null]\n    [\"@some-name,,\",null]\n    [\"@some-name,@other-name,\",[\"@some-name\",\"@other-name\"]]\n    [\"\",[]]\n    [null,[]]\n    ]\n  #.........................................................................................................\n  debug '93033', me = @_get_sample_table_1()\n  urge MKTS_TABLE._resolve_aliases me, '@japanese-text'\n  urge MKTS_TABLE._resolve_aliases me, '@overlap-bottomleft,C3'\n  urge MKTS_TABLE._resolve_aliases me, 'A1..C3'\n  urge MKTS_TABLE._resolve_aliases me, 'A1..C3,@japanese-text'\n  done(); return\n  for [ probe, matcher, ] in probes_and_matchers\n    try\n      result = MKTS_TABLE._parse_aliases null, probe\n    catch error\n      if ( matcher is null ) and ( error.message.match /aliases must be prefixed with '@'/ )?\n        urge '36633', ( jr [ probe, matcher, ] )\n        T.ok true\n      else\n        T.fail \"unexpected error for probe #{rpr probe}: #{rpr error.message}\"\n      continue\n    urge '36633', ( jr [ probe, result, ] )\n    T.eq result, matcher\n  #.........................................................................................................\n  done()\n\n\n\n############################################################################################################\nunless module.parent?\n  include = [\n    \"MKTS_TABLE.fieldcells.source_pattern\"\n    \"MKTS_TABLE._parse_aliases\"\n    \"MKTS_TABLE._resolve_aliases\"\n    ]\n  @_prune()\n  @_main()\n\n\n\n\n\n\n\n\n"
  ]
}