{
  "version": 3,
  "file": "macro-interpreter.js",
  "sourceRoot": "..",
  "sources": [
    "src/macro-interpreter.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n\n\n############################################################################################################\n# njs_path                  = require 'path'\n# njs_fs                    = require 'fs'\n#...........................................................................................................\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'MK/TS/MACRO-INTERPRETER'\nlog                       = CND.get_logger 'plain',     badge\ninfo                      = CND.get_logger 'info',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\nalert                     = CND.get_logger 'alert',     badge\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\necho                      = CND.echo.bind CND\n#-----------------------------------------------------------------------------------------------------------\nD                         = require 'pipedreams'\n$                         = D.remit.bind D\n# $async                    = D.remit_async.bind D\n#...........................................................................................................\n# Markdown_parser           = require 'markdown-it'\n# # Html_parser               = ( require 'htmlparser2' ).Parser\n# new_md_inline_plugin      = require 'markdown-it-regexp'\n#...........................................................................................................\n# HELPERS                   = require './HELPERS'\n#...........................................................................................................\n# misfit                    = Symbol 'misfit'\nMKTS                      = require './main'\njr                        = JSON.stringify\n\n\n#===========================================================================================================\n# PREPARE SANDBOX\n#-----------------------------------------------------------------------------------------------------------\n@$prepare_sandbox = ( S ) =>\n  local_filename    = 'XXXXXXXXXXXXX'\n  copy              = MKTS.MD_READER.copy.bind  MKTS.MD_READER\n  stamp             = MKTS.MD_READER.stamp.bind MKTS.MD_READER\n  hide              = MKTS.MD_READER.hide.bind  MKTS.MD_READER\n  select            = MKTS.MD_READER.select.bind  MKTS.MD_READER\n  #.........................................................................................................\n  sandbox =\n    'rpr':            CND.rpr\n    urge:             CND.get_logger 'urge', local_filename\n    help:             CND.get_logger 'help', local_filename\n    setImmediate:     setImmediate\n    echo:             ( P... ) -> macro_output.push CND.pen P...\n    mkts:\n      signature_reader: ( P... ) -> P\n      output:           []\n      __filename:       local_filename\n  #.........................................................................................................\n  return $ ( event, send ) =>\n    if MKTS.MD_READER.select event, '~', 'start'\n      [ ..., meta, ] = event\n      send event\n      changeset = MKTS.DIFFPATCH.diff {}, sandbox\n      send [ '~', 'change', changeset, ( copy meta ), ]\n    #.......................................................................................................\n    else\n      send event\n\n#-----------------------------------------------------------------------------------------------------------\n@_sandboxes = []\n\n#-----------------------------------------------------------------------------------------------------------\n@track_changes = ->\n  idx = @_sandboxes.length\n  @_sandboxes.push {}\n  return => @_sandboxes[ idx ]\n\n#-----------------------------------------------------------------------------------------------------------\n@$capture_change_events = ( S ) =>\n  ### This stream transform should be added somewhere near the end of the output stream; it will alow\n  `~change` events—for example, those generated by plugin initializations—to be captured and made\n  accessisble to `@$process_actions`. ###\n  select = MKTS.MD_READER.select.bind  MKTS.MD_READER\n  return $ ( event, send ) =>\n    #.......................................................................................................\n    if select event, '~', 'change'\n      [ _, _, changeset, _, ] = event\n      for sandbox, idx in @_sandboxes\n        @_sandboxes[ idx ] = MK.TS.DIFFPATCH.patch changeset, sandbox\n      send event\n    #.......................................................................................................\n    else\n      send event\n    #.......................................................................................................\n    return null\n\n\n#===========================================================================================================\n#\n#-----------------------------------------------------------------------------------------------------------\n@$process_actions = ( S ) =>\n  ### TAINT this is an essentially synchronous solution that will not work for async code ###\n  copy        = MKTS.MD_READER.copy.bind  MKTS.MD_READER\n  stamp       = MKTS.MD_READER.stamp.bind MKTS.MD_READER\n  hide        = MKTS.MD_READER.hide.bind  MKTS.MD_READER\n  select      = MKTS.MD_READER.select.bind  MKTS.MD_READER\n  get_sandbox = @track_changes()\n  #.........................................................................................................\n  CS                        = require 'coffeescript'\n  VM                        = require 'vm'\n  local_filename            = 'XXXXXXXXXXXXX'\n  macro_output              = []\n  #.........................................................................................................\n  return $ ( event, send ) =>\n    if select event, '.', 'action'\n      [ _, _, raw_source, meta, ]     = event\n      send stamp hide event\n      { mode, language, line_nr, }    = meta\n      error_message                   = null\n      sandbox                         = get_sandbox()\n      sandbox_backup                  = MK.TS.DIFFPATCH.snapshot sandbox\n      VM.createContext sandbox\n      #.....................................................................................................\n      switch language\n        when 'js'\n          js_source = raw_source\n        when 'coffee'\n          wrapped_source  = \"do =>\\n  \" + raw_source.replace /\\n/g, \"\\n  \"\n          try\n            js_source     = CS.compile wrapped_source, { bare: true, filename: local_filename, }\n          catch error\n            error_message = error[ 'message' ] ? rpr error\n        else\n          error_message = \"unknown language #{rpr language}\"\n      #.....................................................................................................\n      try\n        action_value = VM.runInContext js_source, sandbox, { filename: local_filename, }\n      #.....................................................................................................\n      catch error\n        error_message = error[ 'message' ] ? rpr error\n      #.....................................................................................................\n      if error_message?\n        warn error_message\n        ### TAINT should preserve stack trace of error ###\n        ### TAINT use method to assemble warning event ###\n        ### TAINT write error log with full trace, insert reference (error nr) ###\n        error_message = \"action on line #{line_nr}: #{error_message}\"\n        send [ '.', 'warning', error_message, ( copy meta ), ]\n      #.....................................................................................................\n      else\n        ### TAINT join using empty string? spaces? newlines? ###\n        if macro_output.length > 0\n          macro_output_rpr    = macro_output.join ''\n          macro_output.length = 0\n          send [ '.', 'text', macro_output_rpr, ( copy meta ), ]\n        #...................................................................................................\n        switch mode\n          when 'silent'\n            null\n          when 'vocal'\n          else\n            ### TAINT send `tex` or `text`??? ###\n            action_value_rpr = if CND.isa_text action_value then action_value else rpr action_value\n            send [ '.', 'text', action_value_rpr, ( copy meta ), ]\n        # action_value_rpr = if CND.isa_text action_value then action_value else rpr action_value\n        # send [ '~', 'update', action_value_rpr, ( copy meta ), ]\n        ### TAINT use more specific change event ('change sandbox')? ###\n        # debug '34821', sandbox.COLUMNS\n        changeset = MK.TS.DIFFPATCH.diff sandbox_backup, sandbox\n        send [ '~', 'change', changeset, ( copy meta ), ] if changeset.length > 0\n    #.......................................................................................................\n    else\n      send event\n\n#-----------------------------------------------------------------------------------------------------------\n@$process_values = ( S ) =>\n  copy        = MKTS.MD_READER.copy.bind  MKTS.MD_READER\n  stamp       = MKTS.MD_READER.stamp.bind MKTS.MD_READER\n  hide        = MKTS.MD_READER.hide.bind  MKTS.MD_READER\n  get_sandbox = @track_changes()\n  #.........................................................................................................\n  return $ ( event, send ) =>\n    if MKTS.MD_READER.select event, '@'\n      [ _, identifier, _, meta, ] = event\n      sandbox                     = get_sandbox()\n      action_value                = sandbox\n      for sub_identifier in identifier.split '.'\n        action_value = action_value[ sub_identifier ]\n        if action_value is undefined\n          ### TAINT should preserve stack trace of error ###\n          ### TAINT use method to assemble warning event ###\n          ### TAINT write error log with full trace, insert reference (error nr) ###\n          { line_nr, }  = meta\n          error_message = \"value on line #{line_nr}: unknown identifier #{rpr identifier}\"\n          return send [ '.', 'warning', error_message, ( copy meta ), ]\n      action_value_rpr = rpr action_value unless CND.isa_text action_value\n      send [ '.', 'text', action_value_rpr, ( copy meta ), ]\n    #.......................................................................................................\n    else\n      send event\n\n#-----------------------------------------------------------------------------------------------------------\n@$process_commands = ( S ) =>\n  copy  = MKTS.MD_READER.copy.bind  MKTS.MD_READER\n  stamp = MKTS.MD_READER.stamp.bind MKTS.MD_READER\n  hide  = MKTS.MD_READER.hide.bind  MKTS.MD_READER\n  #.........................................................................................................\n  # throw new Error \"internal error: need S.SANDBOX, must use `$prepare_sandbox`\" unless S.SANDBOX?\n  #.........................................................................................................\n  return $ ( event, send ) =>\n    if MKTS.MD_READER.select event, '!'\n      [ _, call_signature, _, meta,     ] = event\n      [ _, identifier, parameters_txt,  ] = call_signature.match /^\\s*([^\\s]*)\\s*(.*)$/\n      { mode, language, line_nr, }        = meta\n      [ error_message, parameters, ]      = @_parameters_from_text S, line_nr, parameters_txt\n      return send [ '.', 'warning', error_message, meta, ] if error_message?\n      send [ '!', identifier, parameters, meta, ]\n    #.......................................................................................................\n    else\n      send event\n\n#-----------------------------------------------------------------------------------------------------------\n@$process_regions = ( S ) =>\n  copy      = MKTS.MD_READER.copy.bind    MKTS.MD_READER\n  stamp     = MKTS.MD_READER.stamp.bind   MKTS.MD_READER\n  hide      = MKTS.MD_READER.hide.bind    MKTS.MD_READER\n  select    = MKTS.MD_READER.select.bind  MKTS.MD_READER\n  #.........................................................................................................\n  # throw new Error \"internal error: need S.SANDBOX, must use `$prepare_sandbox`\" unless S.SANDBOX?\n  #.........................................................................................................\n  return $ ( event, send ) =>\n    ### TAINT code duplication ###\n    if select event, '('\n      [ _, call_signature, extra, meta, ] = event\n      [ _, identifier, parameters_txt,  ] = call_signature.match /^\\s*([^\\s]*)\\s*(.*)$/\n      #.....................................................................................................\n      ### Refuse to overwrite 3rd event parameter when already set. This is a makeshift solution that will\n      be removed when we implement a simplified and more unified event syntax. ###\n      if extra?\n        warn \"encountered start region event with parameters and extra\" if parameters_txt.length > 0\n        return send event\n      #.....................................................................................................\n      { mode, language, line_nr, }        = meta\n      [ error_message, parameters, ]      = @_parameters_from_text S, line_nr, parameters_txt\n      #.....................................................................................................\n      send [ '.', 'warning', error_message, meta, ] if error_message?\n      send [ '(', identifier, parameters, meta, ]\n    #.......................................................................................................\n    else\n      send event\n\n#-----------------------------------------------------------------------------------------------------------\n@$consolidate_regions = ( S ) =>\n  copy      = MKTS.MD_READER.copy.bind    MKTS.MD_READER\n  stamp     = MKTS.MD_READER.stamp.bind   MKTS.MD_READER\n  hide      = MKTS.MD_READER.hide.bind    MKTS.MD_READER\n  select    = MKTS.MD_READER.select.bind  MKTS.MD_READER\n  tag_stack = []\n  #.........................................................................................................\n  # throw new Error \"internal error: need S.SANDBOX, must use `$prepare_sandbox`\" unless S.SANDBOX?\n  #.........................................................................................................\n  return $ ( event, send ) =>\n    ### TAINT code duplication ###\n    if select event, '('\n      [ _, call_signature, extra, meta, ] = event\n      [ _, identifier, parameters_txt,  ] = call_signature.match /^\\s*([^\\s]*)\\s*(.*)$/\n      #.....................................................................................................\n      ### Refuse to overwrite 3rd event parameter when already set. This is a makeshift solution that will\n      be removed when we implement a simplified and more unified event syntax. ###\n      if extra? # and extra.length > 0\n        warn \"encountered start region event with parameters and extra\" if parameters_txt.length > 0\n        tag_stack.push identifier\n        return send event\n      #.....................................................................................................\n      { line_nr, }                    = meta\n      [ error_message, parameters, ]  = @_parameters_from_text S, line_nr, parameters_txt\n      #.....................................................................................................\n      send [ '.', 'warning', error_message, meta, ] if error_message?\n      send [ '(', identifier, parameters, meta, ]\n      tag_stack.push identifier\n    #.......................................................................................................\n    else if select event, ')'\n      [ _, identifier, extra, meta, ] = event\n      #.....................................................................................................\n      if ( tag_stack.length < 1 )\n        if ( identifier != 'document' )\n          send [ '.', 'warning', \"too many closing regions: #{jr event}\", ( copy meta ), ]\n        return\n      #.....................................................................................................\n      expected = tag_stack.pop()\n      #.....................................................................................................\n      if ( identifier.length > 0 ) and ( expected isnt identifier )\n        message = \"expected closing region #{rpr expected}, got #{rpr identifier}\"\n        send [ '.', 'warning', message, ( copy meta ), ]\n        send event if identifier is 'document'\n      #.....................................................................................................\n      identifier = expected\n      send [ ')', identifier, extra, ( copy meta ), ]\n    #.......................................................................................................\n    else\n      send event\n    #.......................................................................................................\n    return null\n\n#-----------------------------------------------------------------------------------------------------------\n@$process_code_blocks = ( S ) =>\n  copy      = MKTS.MD_READER.copy.bind    MKTS.MD_READER\n  stamp     = MKTS.MD_READER.stamp.bind   MKTS.MD_READER\n  hide      = MKTS.MD_READER.hide.bind    MKTS.MD_READER\n  select    = MKTS.MD_READER.select.bind  MKTS.MD_READER\n  #.........................................................................................................\n  # throw new Error \"internal error: need S.SANDBOX, must use `$prepare_sandbox`\" unless S.SANDBOX?\n  #.........................................................................................................\n  return $ ( event, send ) =>\n    ### TAINT code duplication ###\n    # debug '0123', event\n    if select event, [ '(', ')', ], 'code'\n      [ type, _, call_signature, meta, ]  = event\n      { line_nr, }                        = meta\n      [ _, identifier, parameters_txt,  ] = call_signature.match /^\\s*([^\\s]*)\\s*(.*)$/\n      #.....................................................................................................\n      [ error_message, parameters, ]      = @_parameters_from_text S, line_nr, parameters_txt\n      parameters.unshift identifier\n      #.....................................................................................................\n      send [ '.', 'warning', error_message, meta, ] if error_message?\n      send [ type, 'code', parameters, meta, ]\n    #.......................................................................................................\n    else\n      send event\n\n#-----------------------------------------------------------------------------------------------------------\n@_parameters_from_text = ( S, line_nr, text ) =>\n  return [ null, [], ] if ( /^\\s*$/ ).test text\n  #.........................................................................................................\n  ### TAINT replicates some code from MACRO_INTERPRETER.process_actions ###\n  ### TAINT move to CND? COFFEESCRIPT? ###\n  CS              = require 'coffeescript'\n  VM              = require 'vm'\n  source          = \"mkts.signature_reader #{text}\"\n  error_message   = null\n  #.........................................................................................................\n  warn \"using makeshift solution for sandbox in `_parameters_from_text`\"\n  sandbox =\n    mkts:\n      signature_reader: ( P... ) -> P\n  VM.createContext sandbox\n  #.....................................................................................................\n  try\n    js_source = CS.compile source, { bare: true, filename: 'parameter resolution', }\n  catch error\n    error_message = error[ 'message' ] ? rpr error\n  #.....................................................................................................\n  unless error_message?\n    try\n      R = VM.runInContext js_source, sandbox, { filename: 'parameter resolution', }\n    catch error\n      error_message = error[ 'message' ] ? rpr error\n  #.....................................................................................................\n  if error_message?\n    warn error_message\n    ### TAINT should preserve stack trace of error ###\n    ### TAINT use method to assemble warning event ###\n    ### TAINT write error log with full trace, insert reference (error nr) ###\n    return [ \"action on line #{line_nr}: #{error_message}\", null, ]\n    # return done [ '.', 'warning', error_message, ( copy meta ), ]\n  return [ null, R, ]\n\n# #-----------------------------------------------------------------------------------------------------------\n# @MKTX.COMMAND.$expansion = ( S ) =>\n#   remark = MD_READER._get_remark()\n#   #.........................................................................................................\n#   return $ ( event, send ) =>\n#     if MKTS.MD_READER.select event, '!'\n#       [ type, identifier, _, meta, ] = event\n#       if ( definition = S.local.definitions.get identifier )?\n#         # send stamp hide event\n#         send stamp hide [ '(', '!', identifier, ( copy meta ), ]\n#         # send copy sub_event for sub_event in definition\n#         # debug '@16', rpr definition\n#         send remark 'resend', \"expanding `#{identifier}`\", ( copy meta )\n#         S.resend definition # [ '.', 'text', definition, ( copy meta ), ]\n#         send stamp hide [ ')', '!', identifier, ( copy meta ), ]\n#       else\n#         send event\n#     #.......................................................................................................\n#     else\n#       send event\n"
  ]
}