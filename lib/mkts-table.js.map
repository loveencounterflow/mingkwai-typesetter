{
  "version": 3,
  "file": "mkts-table.js",
  "sourceRoot": "..",
  "sources": [
    "src/mkts-table.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n\n'use strict'\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'MKTS/TABLE'\nlog                       = CND.get_logger 'plain',     badge\ninfo                      = CND.get_logger 'info',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\nalert                     = CND.get_logger 'alert',     badge\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\necho                      = CND.echo.bind CND\n#...........................................................................................................\nD                         = require 'pipedreams'\n$                         = D.remit.bind D\n$async                    = D.remit_async.bind D\n#...........................................................................................................\nECS                       = require './eval-cs'\nMKTS                      = require './main'\nMD_READER                 = require './md-reader'\nhide                      = MD_READER.hide.bind        MD_READER\ncopy                      = MD_READER.copy.bind        MD_READER\nstamp                     = MD_READER.stamp.bind       MD_READER\nunstamp                   = MD_READER.unstamp.bind     MD_READER\nselect                    = MD_READER.select.bind      MD_READER\nis_hidden                 = MD_READER.is_hidden.bind   MD_READER\nis_stamped                = MD_READER.is_stamped.bind  MD_READER\n#...........................................................................................................\ncopy                      = ( x ) -> Object.assign {}, x\nEXCJSCC                   = require './exceljs-spreadsheet-address-codec'\n\n\n\n#===========================================================================================================\n# INITIALIZATION\n#-----------------------------------------------------------------------------------------------------------\n@_new_description = ( S ) ->\n  R =\n    '~isa':     'MKTS/TABLE/description'\n    cellquads:          {} ### cell extents in terms of quads, by designations ###\n    quad_dimensions:    {}\n    cellborders:        {} ### cell borders, as TikZ styles by sides ###\n    cell_dimensions:    {} ### cell extents in terms of (unitwidth,unitheight), by designations ###\n    border_dimensions:  {} ### border extents in terms of (unitwidth,unitheight), by designations ###\n    pod_dimensions:     {} ### pod extents in terms of (unitwidth,unitheight), by designations ###\n    quadwidths:         [ null, ] ### [ 0 ] is default, [ 1 .. gridwidth ] explicit or implicit widths ###\n    quadheights:        [ null, ] ### [ 0 ] is default, [ 1 .. gridheight ] explicit or implicit heights ###\n    joint_coordinates:  null\n    debug:              false\n    #.......................................................................................................\n    styles:\n      sThin:              'thin'\n      sThick:             'thick'\n      sDotted:            'dotted'\n      sDashed:            'dashed'\n      sRed:               'red'\n      sBlack:             'black'\n      sDebugQuadgrid:     'gray!30,sThin'\n      sDebugCellgrid:     'gray!30,sThin'\n      sDebugJoints:       'gray!30,sThick'\n    #.......................................................................................................\n    default:\n      # gridwidth:     4\n      # gridheight:    4\n      unitwidth:    '1mm'\n      unitheight:   '1mm'\n      # quadwidth:     10\n      # quadheight:    10\n      marginwidth:   0\n      marginheight:  0\n      paddingwidth:  0\n      paddingheight: 0\n  return R\n\n\n#===========================================================================================================\n# PUBLIC API\n#-----------------------------------------------------------------------------------------------------------\n@gridwidth = ( me, text ) ->\n  #.........................................................................................................\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 4517) need a text for mkts-table/gridwidth, got a #{type}\"\n  unless ( match = text.match /^\\s*(\\d+)\\s*$/ )?\n    throw new Error \"(MKTS/TABLE 4300) need a text like '3' or similar for mkts-table/gridwidth, got #{rpr text}\"\n  if me.gridwidth?\n    throw new Error \"(MKTS/TABLE 5827) unable to re-define gridwidth\"\n  #.........................................................................................................\n  me.gridwidth      = parseInt match[ 1 ], 10\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@gridheight = ( me, text ) ->\n  #.........................................................................................................\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 9150) need a text for mkts-table/gridheight, got a #{type}\"\n  unless ( match = text.match /^\\s*(\\d+)\\s*$/ )?\n    throw new Error \"(MKTS/TABLE 6572) need a text like '3' or similar for mkts-table/gridheight, got #{rpr text}\"\n  if me.gridheight?\n    throw new Error \"(MKTS/TABLE 6501) unable to re-define gridheight\"\n  #.........................................................................................................\n  me.gridheight     = parseInt match[ 1 ], 10\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@unitwidth = ( me, text ) ->\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 9131) need a text for mkts-table/unitwidth, got a #{type}\"\n  if me.unitwidth?\n    throw new Error \"(MKTS/TABLE 6477) unable to re-define unitheight\"\n  #.........................................................................................................\n  me.unitwidth = text\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@unitheight = ( me, text ) ->\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 7680) need a text for mkts-table/unitheight, got a #{type}\"\n  if me.unitheight?\n    throw new Error \"(MKTS/TABLE 2142) unable to re-define unitheight\"\n  #.........................................................................................................\n  me.unitheight = text\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@quadwidths = ( me, text ) ->\n  ### TAINT should validate ###\n  @_ensure_gridwidth me\n  value = parseFloat text\n  me.quadwidths[  0 ] = value ### set default ###\n  me.quadwidths[ nr ] = value for nr in [ 1 .. me.gridwidth ]\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@quadheights = ( me, text ) ->\n  ### TAINT should validate ###\n  @_ensure_gridheight me\n  value = parseFloat text\n  me.quadheights[  0 ] = value ### set default ###\n  me.quadheights[ nr ] = value for nr in [ 1 .. me.gridheight ]\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@cellquads = ( me, text ) ->\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 8532) need a text for mkts-table/cellquads, got a #{type}\"\n  #.........................................................................................................\n  @_ensure_gridwidth  me\n  @_ensure_gridheight me\n  @_ensure_unitvector me\n  d           = @_parse_range_quadref me, text\n  designation = d.tl.toUpperCase()\n  if d.right > me.gridwidth\n    throw new Error \"(MKTS/TABLE 2282) cell exceeds grid width: #{rpr text}\"\n  if d.bottom > me.gridheight\n    throw new Error \"(MKTS/TABLE 2523) cell exceeds grid height: #{rpr text}\"\n  if me.cellquads[ designation ]?\n    throw new Error \"(MKTS/TABLE 1246) unable to redefine cell #{designation}: #{rpr text}\"\n  #.........................................................................................................\n  me.cellquads[ designation ] = d\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@cellborder = ( me, text ) ->\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 2034) need a text for mkts-table/cellborder, got a #{type}\"\n  #.........................................................................................................\n  d                 = @_parse_cellborder me, text\n  for cell in d.cells\n    for side in d.side\n      ( me.cellborders[ cell ]?= {} )[ side ] = d.style\n  #.........................................................................................................\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@debug = ( me, text ) ->\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 8055) need a text for mkts-table/cell, got a #{type}\"\n  #.........................................................................................................\n  switch text\n    when 'true'   then me.debug = true\n    when 'false'  then me.debug = false\n    else throw new Error \"(MKTS/TABLE 9035) expected 'true' or 'false' for mkts-table/debug, got #{rpr text}\"\n  #.........................................................................................................\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@marginwidth = ( me, text ) ->\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 1811) need a text for mkts-table/marginwidth, got a #{type}\"\n  #.........................................................................................................\n  @_ensure_unitvector me\n  ### TAINT use parser, validate syntax ###\n  me.marginwidth = parseFloat text\n  #.........................................................................................................\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@marginheight = ( me, text ) ->\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 9480) need a text for mkts-table/marginheight, got a #{type}\"\n  #.........................................................................................................\n  @_ensure_unitvector me\n  ### TAINT use parser, validate syntax ###\n  me.marginheight = parseFloat text\n  #.........................................................................................................\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@paddingwidth = ( me, text ) ->\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 8254) need a text for mkts-table/paddingwidth, got a #{type}\"\n  #.........................................................................................................\n  @_ensure_unitvector me\n  ### TAINT use parser, validate syntax ###\n  me.paddingwidth = parseFloat text\n  #.........................................................................................................\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@paddingheight = ( me, text ) ->\n  unless ( type = CND.type_of text ) is 'text'\n    throw new Error \"(MKTS/TABLE 7209) need a text for mkts-table/paddingheight, got a #{type}\"\n  #.........................................................................................................\n  @_ensure_unitvector me\n  ### TAINT use parser, validate syntax ###\n  me.paddingheight = parseFloat text\n  #.........................................................................................................\n  return null\n\n\n#===========================================================================================================\n# PARSERS ETC\n#-----------------------------------------------------------------------------------------------------------\n@_idx_from_col_and_row = ( col, row ) ->\n  unless ( type = CND.type_of col ) is 'text'\n    throw new Error \"(MKTS/TABLE 4182) expected a text for col, got a #{rpr type}\"\n  unless ( type = CND.type_of row ) is 'text'\n    throw new Error \"(MKTS/TABLE 5931) expected a text for row, got a #{rpr type}\"\n  #.........................................................................................................\n  col_idx = ( col.codePointAt 0 ) - ( 'a'.codePointAt 0 )\n  row_idx = ( parseInt row, 10 ) - 1\n  return { col: col_idx, row: row_idx, }\n\n#-----------------------------------------------------------------------------------------------------------\n### TAINT use proper parsing tool ###\n@_parse_range_quadref = ( me, quad_range ) ->\n  unless ( type = CND.type_of quad_range ) is 'text'\n    throw new Error \"(MKTS/TABLE 6402) expected a text for quad_range, got a #{rpr type}\"\n  unless ( match = quad_range.match /^([a-z]{1,3})([0-9]{1,4}):([a-z]{1,3})([0-9]{1,4})$/ )?\n    throw new Error \"(MKTS/TABLE 2499) expected a quad range like 'a1:d4', got #{rpr quad_range}\"\n  ### TAINT don't use EXCJSCC directly ###\n  R = EXCJSCC.decode quad_range.toUpperCase()\n  delete R.dimensions\n  R.tl = R.tl.toLowerCase()\n  R.br = R.br.toLowerCase()\n  R.tr = \"#{( EXCJSCC.n2l R.right ).toLowerCase()}#{R.top}\"\n  R.bl = \"#{( EXCJSCC.n2l R.left ).toLowerCase()}#{R.bottom}\"\n  return R\n\n#-----------------------------------------------------------------------------------------------------------\n### TAINT use proper parsing tool ###\n@_parse_coordinate_with_units = ( me, coordinate ) ->\n  unless ( type = CND.type_of coordinate ) is 'text'\n    throw new Error \"(MKTS/TABLE 1045) expected a text for coordinate, got a #{rpr type}\"\n  unless ( match = coordinate.match /^\\s*\\(\\s*([-0-9.]{1,8}[a-z]{0,3})\\s*,\\s*([-0-9.]{1,8}[a-z]{0,3})\\s*\\)\\s*$/ )?\n    throw new Error \"(MKTS/TABLE 2032) expected a coordinate with units like '( 1mm, 2.4cm )', got #{rpr coordinate}\"\n  [ _, x, y, ] = match\n  return { x, y, }\n\n#-----------------------------------------------------------------------------------------------------------\n### TAINT use proper parsing tool ###\n@_parse_coordinate_without_units = ( me, coordinate ) ->\n  unless ( type = CND.type_of coordinate ) is 'text'\n    throw new Error \"(MKTS/TABLE 2262) expected a text for coordinate, got a #{rpr type}\"\n  unless ( match = coordinate.match /^\\s*\\(\\s*([-0-9.]{1,8})\\s*,\\s*([-0-9.]{1,8})\\s*\\)\\s*$/ )?\n    throw new Error \"(MKTS/TABLE 6904) expected a unitless coordinate like '( 1, 2.4 )', got #{rpr coordinate}\"\n  [ _, x, y, ] = match\n  return { x, y, }\n\n#-----------------------------------------------------------------------------------------------------------\n### TAINT use proper parsing tool ###\n@_parse_cellborder = ( me, cellborder ) ->\n  unless ( type = CND.type_of cellborder ) is 'text'\n    throw new Error \"(MKTS/TABLE 6043) expected a text for cellborder, got a #{rpr type}\"\n  unless ( groups = cellborder.match /^(.+):(.+):(.*)$/ )?\n    throw new Error \"(MKTS/TABLE 5822) expected a cellborder like 'a1:left:sDashed,sThick', got #{rpr cellborder}\"\n  [ _, cells, sides, style, ] = groups\n  cells = if '*' in cells then Object.keys me.cellquads else ( _.trim() for _ in cells.split ',' )\n  sides = if '*' in sides then [ 'top', 'left', 'bottom', 'right', ] else ( _.trim() for _ in sides.split ',' )\n  style = style.trim()\n  style = null if style in [ 'none', '', ]\n  return { cells, sides, style, }\n\n\n#===========================================================================================================\n# EVENT GENERATORS\n#-----------------------------------------------------------------------------------------------------------\n@_walk_events = ( me ) ->\n  @_compute_quad_dimensions     me\n  @_compute_cell_dimensions     me\n  @_compute_border_dimensions   me\n  @_compute_pod_dimensions      me\n  #.........................................................................................................\n  ### Preparatory ###\n  yield from @_walk_opening_events                      me\n  yield from @_walk_style_events                        me ### TAINT should write to document preamble ###\n  #.........................................................................................................\n  ### Debugging ### ### TAINT should make ordering configurable so we can under- or overprint debugging ###\n  # yield from @_walk_debug_joints_events                 me\n  yield from @_walk_debug_quadgrid_events               me\n  yield from @_walk_debug_cellgrid_events               me\n  #.........................................................................................................\n  ### Borders, content ###\n  yield from @_walk_cell_borders_events                 me\n  yield from @_walk_pod_events                          me\n  #.........................................................................................................\n  ### Finishing ###\n  yield from @_walk_closing_events                      me\n  #.........................................................................................................\n  # ### dump description for debugging ###\n  # ### TAINT make dump configurable ###\n  # ### TAINT print in smaller type ###\n  # yield [ 'tex', '\\\\par{}', ]\n  # yield [ 'text', \"MKTS Table Description:\\n\\n\", ( copy me.meta ), ]\n  # yield [ '(', 'code', [],                       ( copy me.meta ), ]\n  # yield [ '.', 'text', ( rpr me ),               ( copy me.meta ), ]\n  # yield [ ')', 'code', [],                       ( copy me.meta ), ]\n  # yield [ 'tex', '\\\\par{}', ]\n  #.........................................................................................................\n  yield return\n\n#-----------------------------------------------------------------------------------------------------------\n@_walk_opening_events = ( me ) ->\n  @_ensure_unitvector me\n  yield [ 'tex', \"\\n\\n\", ]\n  yield [ 'tex', \"\\\\par% Beginning of MKTS Table ==============================================================================\\n\", ]\n  yield [ 'tex', \"{\\\\setlength{\\\\fboxsep}{0mm}%\\n\", ]\n  ### TAINT insert proper dimensions ###\n  # yield [ 'tex', \"\\\\framebox{%\\n\", ] ### framebox ###\n  yield [ 'tex', \"\\\\begin{minipage}[t][45mm][t]{100mm}%\\n\", ]\n  yield [ 'tex', \"\\\\newdimen\\\\mktsTableUnitwidth\\\\setlength{\\\\mktsTableUnitwidth}{#{me.unitwidth}}%\\n\", ]\n  yield [ 'tex', \"\\\\newdimen\\\\mktsTableUnitheight\\\\setlength{\\\\mktsTableUnitheight}{#{me.unitheight}}%\\n\", ]\n  yield [ 'tex', \"\\\\begin{tikzpicture}[ overlay, yshift = 0mm, yscale = -1, line cap = round ]%\\n\", ]\n  yield [ 'tex', \"\\\\tikzset{x=#{me.unitwidth}};\\\\tikzset{y=#{me.unitheight}};%\\n\", ]\n  yield return\n\n#-----------------------------------------------------------------------------------------------------------\n@_walk_closing_events = ( me ) ->\n  yield [ 'tex', \"\\\\end{tikzpicture}%\\n\", ]\n  yield [ 'tex', \"\\\\end{minipage}}%\\n\", ]\n  # yield [ 'tex', \"}%\\n\", ] ### framebox ###\n  yield [ 'tex', \"\\\\par% End of MKTS Table ====================================================================================\\n\\n\", ]\n  yield return\n\n#-----------------------------------------------------------------------------------------------------------\n@_walk_style_events = ( me ) ->\n  for key, value of me.styles\n    yield [ 'tex', \"\\\\tikzset{#{key}/.style={#{value}}}%\\n\", ]\n  yield return\n\n#-----------------------------------------------------------------------------------------------------------\n@_walk_cell_borders_events = ( me ) ->\n  #.........................................................................................................\n  for designation, d of me.border_dimensions\n    continue unless ( cellborders = me.cellborders[ designation ] )?\n    if ( borderstyle = cellborders[ 'left' ] )?\n      yield [ 'tex', \"\\\\draw[#{borderstyle}] (#{d.left},#{d.top}) -- (#{d.left},#{d.bottom});\\n\", ]\n    if ( borderstyle = cellborders[ 'right' ] )?\n      yield [ 'tex', \"\\\\draw[#{borderstyle}] (#{d.right},#{d.top}) -- (#{d.right},#{d.bottom});\\n\", ]\n    if ( borderstyle = cellborders[ 'top' ] )?\n      yield [ 'tex', \"\\\\draw[#{borderstyle}] (#{d.left},#{d.top}) -- (#{d.right},#{d.top});\\n\", ]\n    if ( borderstyle = cellborders[ 'bottom' ] )?\n      yield [ 'tex', \"\\\\draw[#{borderstyle}] (#{d.left},#{d.bottom}) -- (#{d.right},#{d.bottom});\\n\", ]\n  #.........................................................................................................\n  yield return\n\n#-----------------------------------------------------------------------------------------------------------\n@_walk_pod_events = ( me ) ->\n  for designation, cellquads of me.cellquads\n    d = me.pod_dimensions[ designation ]\n    yield [ 'tex', \"\\\\node[anchor=north west,inner sep=0mm] at (#{d.left},#{d.top})%\\n\", ]\n    yield [ 'tex', \"{\\\\begin{minipage}[t][#{d.height_u}\\\\mktsTableUnitheight][t]{#{d.width_u}\\\\mktsTableUnitwidth}%\\n\", ]\n    yield [ 'tex', \"A\\\\hfill{}B\\\\hfill{}C\\\\end{minipage}};%\\n\", ]\n    # yield [ 'tex', \"{\\\\framebox{\\\\begin{minipage}[t][#{d.height_u}\\\\mktsTableUnitheight][t]{#{d.width_u}\\\\mktsTableUnitwidth}%\\n\", ]\n    # yield [ 'tex', \"A\\\\hfill{}B\\\\hfill{}C\\\\end{minipage}}};%\\n\", ]\n  #.........................................................................................................\n  yield return\n\n\n#===========================================================================================================\n# EVENT GENERATORS: DEBUGGING EVENTS\n#-----------------------------------------------------------------------------------------------------------\n@_walk_debug_quadgrid_events = ( me ) ->\n  unless me.debug\n    yield return\n  #.........................................................................................................\n  ### TAINT use fixed size like 1mm ###\n  top       = ( @_top_from_row_nr     me, 1             ) - 3\n  bottom    = ( @_bottom_from_row_nr  me, me.gridheight ) + 3\n  for col_nr in [ 1 .. me.gridwidth + 1 ]\n    x = @_left_from_col_nr me, col_nr\n    yield [ 'tex', \"\\\\draw[sDebugQuadgrid] (#{x},#{top}) -- (#{x},#{bottom});\\n\", ]\n  #.........................................................................................................\n  ### TAINT use fixed size like 1mm ###\n  left      = ( @_left_from_col_nr    me, 1             ) - 3\n  right     = ( @_right_from_col_nr   me, me.gridwidth  ) + 3\n  for row_nr in [ 1 .. me.gridheight + 1 ]\n    y = @_top_from_row_nr me, row_nr\n    yield [ 'tex', \"\\\\draw[sDebugQuadgrid] (#{left},#{y}) -- (#{right},#{y});\\n\", ]\n  #.........................................................................................................\n  yield return\n\n#-----------------------------------------------------------------------------------------------------------\n@_walk_debug_cellgrid_events = ( me ) ->\n  unless me.debug\n    yield return\n  #.........................................................................................................\n  for designation, d of me.cell_dimensions\n    ### TAINT use fixed size like 1mm ###\n    left   = d.left   + 0.5\n    right  = d.right  - 0.5\n    top    = d.top    + 0.5\n    bottom = d.bottom - 0.5\n    yield [ 'tex', \"\\\\draw[sDebugCellgrid] (#{left},#{bottom})\" \\\n                 + \" -- (#{left},#{top})\"                       \\\n                 + \" -- (#{right},#{top});\", ]\n    yield [ 'tex', \" \\\\draw[sDebugCellgrid] (#{right},#{top}) \" \\\n                 + \" -- (#{right},#{bottom});\", ]\n    yield [ 'tex', \" \\\\draw[sDebugCellgrid] (#{left},#{bottom}) \" \\\n                 + \" -- (#{right},#{bottom});\", ]\n    yield [ 'tex', \"\\n\", ]\n  #.........................................................................................................\n  yield return\n\n#-----------------------------------------------------------------------------------------------------------\n@_walk_debug_joints_events = ( me ) ->\n  unless me.debug\n    yield return\n  @_ensure_joint_coordinates  me\n  #.........................................................................................................\n  ### TAINT code duplication; use iterator ###\n  for [ col_letter, col_nr, ] from @_walk_column_letters_and_numbers me, 'long'\n    for row_nr from @_walk_row_numbers me, 'long'\n      joint = \"#{col_letter}#{row_nr}\"\n      yield [ 'tex', \"\\\\node[sDebugJoints] at ($(joint_#{joint})+(2mm,2mm)$) {{\\\\mktsStyleCode{}#{joint}}}; \", ]\n      yield [ 'tex', \"\\\\node[sDebugJoints, shape = circle, draw ] at (joint_#{joint}) {};%\\n\", ]\n  #.........................................................................................................\n  yield return\n\n\n#===========================================================================================================\n# ENSURERS\n#-----------------------------------------------------------------------------------------------------------\n@_ensure_unitvector = ( me ) ->\n  @unitwidth  me, me.default.unitwidth   unless me.unitwidth?\n  @unitheight me, me.default.unitheight  unless me.unitheight?\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@_ensure_joint_coordinates = ( me ) ->\n  return null if me.joint_coordinates?\n  @_ensure_quadwidths   me\n  @_ensure_quadheights  me\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@_ensure_gridwidth = ( me ) ->\n  return null if me.gridwidth?\n  throw new Error \"(MKTS/TABLE 5822) gridwidth must be set\"\n\n#-----------------------------------------------------------------------------------------------------------\n@_ensure_gridheight = ( me ) ->\n  return null if me.gridheight?\n  throw new Error \"(MKTS/TABLE 5822) gridheight must be set\"\n\n#-----------------------------------------------------------------------------------------------------------\n@_ensure_quadwidths = ( me ) ->\n  return null if ( me.quadwidths.length is me.gridwidth + 1 ) and ( null not in me.quadwidths[ 1 .. ] )\n  throw new Error \"(MKTS/TABLE 5822) quadwidths must be all set; got #{rpr me.quadwidths}\"\n\n#-----------------------------------------------------------------------------------------------------------\n@_ensure_quadheights = ( me ) ->\n  return null if ( me.quadheights.length is me.gridheight + 1 ) and ( null not in me.quadheights[ 1 .. ] )\n  throw new Error \"(MKTS/TABLE 5822) quadheights must be all set; got #{rpr me.quadheights}\"\n\n#-----------------------------------------------------------------------------------------------------------\n@_ensure_margin = ( me ) ->\n  @marginwidth   me, me.default.marginwidth   unless me.marginwidth?\n  @marginheight  me, me.default.marginheight  unless me.marginheight?\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@_ensure_padding = ( me ) ->\n  @paddingwidth   me, me.default.paddingwidth   unless me.paddingwidth?\n  @paddingheight  me, me.default.paddingheight  unless me.paddingheight?\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@_compute_quad_dimensions = ( me ) ->\n  for [ col_letter, col_nr, ] from @_walk_column_letters_and_numbers me, 'short'\n    for row_nr from @_walk_row_numbers me, 'short'\n      designation   = \"#{col_letter}#{row_nr}\"\n      left   = @_left_from_col_nr   me, col_nr\n      right  = @_right_from_col_nr  me, col_nr\n      top    = @_top_from_row_nr    me, row_nr\n      bottom = @_bottom_from_row_nr me, row_nr\n      # ### TAINT must not become negative ###\n      # quadwidth_u   = right  - left # - 2 * me.marginwidth\n      # quadheight_u  = bottom - top  # - 2 * me.marginheight\n      me.quad_dimensions[ designation ] = {\n        col_nr,         row_nr,\n        left,    right,\n        top,     bottom, }\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@_compute_cell_dimensions = ( me ) ->\n  ### TAINT use me.cell_dimensions ###\n  for designation, cellquads of me.cellquads\n    left   = ( @_left_from_col_nr   me, cellquads.left    )\n    right  = ( @_right_from_col_nr  me, cellquads.right   )\n    top    = ( @_top_from_row_nr    me, cellquads.top     )\n    bottom = ( @_bottom_from_row_nr me, cellquads.bottom  )\n    width_u       = right  - left\n    height_u      = bottom - top\n    me.cell_dimensions[ designation ] = {\n      left,  right,   width_u,\n      top,   bottom,  height_u, }\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@_compute_border_dimensions = ( me ) ->\n  for designation, d of me.cell_dimensions\n    left   = d.left   + me.marginwidth\n    right  = d.right  - me.marginwidth\n    top    = d.top    + me.marginheight\n    bottom = d.bottom - me.marginheight\n    ### TAINT must not become negative ###\n    width_u       = right  - left\n    height_u      = bottom - top\n    me.border_dimensions[ designation ] = {\n      left,  right,   width_u,\n      top,   bottom,  height_u, }\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@_compute_pod_dimensions = ( me ) ->\n  for designation, d of me.cell_dimensions\n    left   = d.left   + me.paddingwidth\n    right  = d.right  - me.paddingwidth\n    top    = d.top    + me.paddingheight\n    bottom = d.bottom - me.paddingheight\n    ### TAINT must not become negative ###\n    width_u       = right  - left\n    height_u      = bottom - top\n    me.pod_dimensions[ designation ] = {\n      left,  right,   width_u,\n      top,   bottom,  height_u, }\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@_left_from_col_nr = ( me, col_nr ) ->\n  ### TAINT should precompute ###\n  @_ensure_quadwidths me\n  R = 0\n  R += me.quadwidths[ nr ] for nr in [ 1 ... col_nr ]\n  return R\n\n#-----------------------------------------------------------------------------------------------------------\n@_right_from_col_nr = ( me, col_nr ) ->\n  return ( @_left_from_col_nr me, col_nr ) + me.quadwidths[ col_nr ]\n\n#-----------------------------------------------------------------------------------------------------------\n@_top_from_row_nr = ( me, row_nr ) ->\n  ### TAINT should precompute ###\n  @_ensure_quadheights me\n  R = 0\n  R += me.quadheights[ nr ] for nr in [ 1 ... row_nr ]\n  return R\n\n#-----------------------------------------------------------------------------------------------------------\n@_bottom_from_row_nr = ( me, row_nr ) ->\n  return ( @_top_from_row_nr me, row_nr ) + me.quadheights[ row_nr ]\n\n\n#===========================================================================================================\n# ITERATORS\n#-----------------------------------------------------------------------------------------------------------\n@_walk_column_letters_and_numbers = ( me, mode ) ->\n  @_ensure_gridwidth me\n  delta = if mode is 'short' then 0 else 1\n  for col_nr in [ 1 .. me.gridwidth + delta ]\n    ### TAINT don't use EXCJSCC directly ###\n    col_letter  = ( EXCJSCC.n2l col_nr ).toLowerCase()\n    yield [ col_letter, col_nr, ]\n  yield return\n\n#-----------------------------------------------------------------------------------------------------------\n@_walk_row_numbers = ( me, mode ) ->\n  @_ensure_gridheight me\n  delta = if mode is 'short' then 0 else 1\n  yield row_nr for row_nr in [ 1 .. me.gridheight + delta ]\n  yield return\n\n#-----------------------------------------------------------------------------------------------------------\n@_walk_cellquads_sides = ( me, cellquads, side ) ->\n  switch side\n    when 'left'\n      row_nr_1    = cellquads.top\n      row_nr_2    = cellquads.bottom\n      col_nr_1    = cellquads.left\n      col_nr_2    = cellquads.left\n    when 'right'\n      row_nr_1    = cellquads.top\n      row_nr_2    = cellquads.bottom\n      col_nr_1    = cellquads.right\n      col_nr_2    = cellquads.right\n    when 'top'\n      row_nr_1    = cellquads.top\n      row_nr_2    = cellquads.top\n      col_nr_1    = cellquads.left\n      col_nr_2    = cellquads.right\n    when 'bottom'\n      row_nr_1    = cellquads.bottom\n      row_nr_2    = cellquads.bottom\n      col_nr_1    = cellquads.left\n      col_nr_2    = cellquads.right\n    when '*'\n      yield from @_walk_cellquads_sides me, cellquads, 'left'\n      yield from @_walk_cellquads_sides me, cellquads, 'right'\n      yield from @_walk_cellquads_sides me, cellquads, 'top'\n      yield from @_walk_cellquads_sides me, cellquads, 'bottom'\n      yield return\n    else\n      throw new Error \"(MKTS/TABLE 4550) illegal argument for side #{rpr side}\"\n  for row_nr in [ row_nr_1 .. row_nr_2 ]\n    for col_nr in [ col_nr_1 .. col_nr_2 ]\n      ### TAINT don't use EXCJSCC directly ###\n      col_letter  = ( EXCJSCC.n2l col_nr ).toLowerCase()\n      quad        = \"#{col_letter}#{row_nr}\"\n      yield { col_nr, row_nr, col_letter, quad, side, }\n  yield return\n\n\n#===========================================================================================================\n# HELPERS\n#-----------------------------------------------------------------------------------------------------------\n_stackerr = ( ref, message, error = null ) ->\n  ###\n  Prepends local error message to the original one so we get more informative traces. Usage:\n\n  ```\n  try\n    ...\n  catch error\n    throw _stackerr error, \"(MKTS/TABLE 2406) ... new message ...\"\n  ```\n  ###\n  message = \"(MKTS/TABLE##{ref}) #{message}\"\n  if error?\n    error.message = \"#{message}\\n#{error.message}\"\n  else\n    ### TAINT elide current line from stack trace ###\n    error = new Error message\n  return error\n"
  ]
}