{"version":3,"sources":["md-reader-typofix.coffee"],"names":[],"mappings":"AAQA;AAAA,MAAA;;EAAA,GAAA,GAA4B,OAAA,CAAQ,KAAR;;EAC5B,GAAA,GAA4B,GAAG,CAAC;;EAChC,KAAA,GAA4B;;EAC5B,GAAA,GAA4B,GAAG,CAAC,UAAJ,CAAe,OAAf,EAA4B,KAA5B;;EAC5B,IAAA,GAA4B,GAAG,CAAC,UAAJ,CAAe,MAAf,EAA4B,KAA5B;;EAC5B,OAAA,GAA4B,GAAG,CAAC,UAAJ,CAAe,SAAf,EAA4B,KAA5B;;EAC5B,KAAA,GAA4B,GAAG,CAAC,UAAJ,CAAe,OAAf,EAA4B,KAA5B;;EAC5B,KAAA,GAA4B,GAAG,CAAC,UAAJ,CAAe,OAAf,EAA4B,KAA5B;;EAC5B,IAAA,GAA4B,GAAG,CAAC,UAAJ,CAAe,MAAf,EAA4B,KAA5B;;EAC5B,IAAA,GAA4B,GAAG,CAAC,UAAJ,CAAe,MAAf,EAA4B,KAA5B;;EAC5B,IAAA,GAA4B,GAAG,CAAC,UAAJ,CAAe,MAAf,EAA4B,KAA5B;;EAC5B,IAAA,GAA4B,GAAG,CAAC,IAAI,CAAC,IAAT,CAAc,GAAd;;EAQ5B,IAAC,CAAA,YAAD,GAWE;IAAA,WAAA,EAAa,CAAE,SAAF,EAA2D,GAA3D,CAAb;IACA,UAAA,EAAa,CAAE,0BAAF,EAA2D,OAA3D,CADb;;;EAKF,IAAC,CAAA,OAAD,GAAW,SAAE,CAAF,EAAK,IAAL;AACT,QAAA;IAAA,KAAA,CAAM,MAAN,EAAc,GAAA,CAAI,IAAJ,CAAd;IACA,CAAA,GAAI;AACJ;AAAA,SAAA,WAAA;wBAAY,oBAAU;MACpB,IAAA,CAAgC,GAAG,CAAC,QAAJ,CAAa,QAAb,CAAhC;QAAA,QAAA,GAAW,CAAE,QAAF,EAAX;;AACA,WAAA,0CAAA;;QACE,CAAA,GAAI,CAAC,CAAC,OAAF,CAAU,OAAV,EAAmB,WAAnB;AADN;AAFF;AAIA,WAAO;EAPE;AAnCX","file":"md-reader-typofix.js","sourceRoot":"/source/","sourcesContent":["\n\n\n\n############################################################################################################\n# njs_path                  = require 'path'\n# njs_fs                    = require 'fs'\n#...........................................................................................................\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'MK/TS/MD-READER/TYPOFIX'\nlog                       = CND.get_logger 'plain',     badge\ninfo                      = CND.get_logger 'info',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\nalert                     = CND.get_logger 'alert',     badge\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\necho                      = CND.echo.bind CND\n#-----------------------------------------------------------------------------------------------------------\n# D                         = require 'pipedreams'\n# $                         = D.remit.bind D\n#...........................................................................................................\n# MKTS                      = require './main'\n\n#-----------------------------------------------------------------------------------------------------------\n@replacements =\n  # Simple typographyc replacements\n  #\n  # (c) (C) → ©\n  # (tm) (TM) → ™\n  # (r) (R) → ®\n  # +- → ±\n  # (p) (P) -> §\n  # ... → … (also ?.... → ?.., !.... → !..)\n  # ???????? → ???, !!!!! → !!!, `,,` → `,`\n  # -- → &ndash;, --- → &mdash;\n  'copyright': [ /// \\( c \\) ///gi,                                       '©',      ]\n  'ellipsis':  [ /// ( ^ | [ ^ . ] ) [.]{3} ( $ | [ ^ . ] ) ///gi,        '$1…$2',  ]\n\n\n#-----------------------------------------------------------------------------------------------------------\n@rewrite = ( S, text ) ->\n  debug '0982', rpr text\n  R = text\n  for name, [ matchers, replacement, ] of @replacements\n    matchers = [ matchers, ] unless CND.isa_list matchers\n    for matcher in matchers\n      R = R.replace matcher, replacement\n  return R\n\n\n\n\n\n\n"]}